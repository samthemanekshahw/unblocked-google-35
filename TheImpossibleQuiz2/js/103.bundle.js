(this.webpackJsonp=this.webpackJsonp||[]).push([[103],{151:function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return h}));var n=t(6),o=t(0),s=t(54),r=t(12),a=t(52),d=t(11);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var h=function(e){var i,t;t=e,(i=Question78).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var a;a=Question78;function Question78(i){var t;return _defineProperty(_assertThisInitialized(t=e.call(this,"assets/questions/q78/q78-number.png",i)||this),"shadow",void 0),_defineProperty(_assertThisInitialized(t),"lever",void 0),_defineProperty(_assertThisInitialized(t),"chestOpenAnimation",void 0),_defineProperty(_assertThisInitialized(t),"spring",void 0),_defineProperty(_assertThisInitialized(t),"head",void 0),_defineProperty(_assertThisInitialized(t),"liverActiveArea",void 0),_defineProperty(_assertThisInitialized(t),"chestAnimation",void 0),_defineProperty(_assertThisInitialized(t),"liverActiveAreaPositionsY",void 0),_defineProperty(_assertThisInitialized(t),"leverInteractionsCount",void 0),_defineProperty(_assertThisInitialized(t),"leverInteractionsRequired",void 0),_defineProperty(_assertThisInitialized(t),"pointerPosition",void 0),t.leverInteractionsRequired=90,t.shadow=o.n.from("assets/questions/q78/q78-chest-shadow.png"),t.addChild(t.shadow),t.shadow.position.set(201,332),t.lever=t.addChild(new s.a([1,2,3,4,5,6,7,8].map((function(e){return o.q.from("assets/questions/q78/q78-lever/q78-lever-"+e+".png")})))),t.lever.animationSpeed=.4,t.lever.position.set(346,254),t.chestOpenAnimation=t.addChild(new s.a([1,2,3,4].map((function(e){return o.q.from("assets/questions/q78/q78-chest/q78-chest-"+e+".png")})))),t.chestOpenAnimation.animationSpeed=.4,t.chestOpenAnimation.loop=!1,t.chestOpenAnimation.position.set(196,142),t.spring=o.n.from("assets/questions/q78/q78-spring.png"),t.addChild(t.spring),t.spring.anchor.set(.5,1),t.spring.position.set(274,228),t.spring.scale.set(1.48,.005),t.spring.visible=!1,t.head=o.n.from("assets/questions/q78/q78-head.png"),t.addChild(t.head),t.head.anchor.set(.45,.45),t.head.position.set(268,223),t.head.scale.set(1.2,.004),t.head.visible=!1,Object(d.a)(t.head),t.leverInteractionsCount=0,t.liverActiveAreaPositionsY=[253,267,275,285,301,285,275,267],t.liverActiveArea=(new o.e).beginFill(16711680,.01).drawRect(0,0,86,16).endFill(),t.addChild(t.liverActiveArea),t.liverActiveArea.position.set(348,t.liverActiveAreaPositionsY[t.leverInteractionsCount]),t.liverActiveArea.interactive=!0,t.liverActiveArea.buttonMode=!0,t.liverActiveArea.on("pointermove",t.onPointerMove,_assertThisInitialized(t)).on("pointerdown",t.onPointerMove,_assertThisInitialized(t)),t.on("added",t.onAdded).on("removed",t.onRemoved),t}var h=Question78.prototype;return h.playChestAnimation=function(){this.sounds.play("lvl78-ha-ha"),this.chestAnimation.play(),this.spring.visible=!0,this.head.visible=!0,this.appp.get(r.a).bombs.timeBomb.stopBomb()},h.onPointerMove=function(e){this.pointerPosition=e.data.global.clone()},h.onAdded=function(){var e=this;this.chestAnimation=n.b.timeline({defaults:{ease:"steps(1)",duration:1/24},paused:!0}).to({},{callbackScope:this.chestOpenAnimation,onComplete:this.chestOpenAnimation.play},2/24).to(this.spring.scale,{x:1,y:1.13,duration:10/24,ease:"power1.out"},3/24).to(this.head,{rotation:.087,y:80,scaleX:1,scaleY:1,duration:10/24,ease:"power1.out"},3/24).to(this.spring.scale,{x:1.06,y:1.06,duration:5/24,ease:"power1.in"},13/24).to(this.head,{y:89,scaleY:.94,duration:5/24,ease:"power1.in"},13/24).to(this.head,{y:99,scaleY:.87,duration:5/24,ease:"power1.out"},.75).to(this.spring.scale,{x:1.06,y:1.06,duration:5/24,ease:"power1.in"},23/24).to(this.head,{y:90,scaleY:.94,duration:5/24,ease:"power1.in"},23/24).to(this.spring.scale,{x:1,y:1.13,duration:5/24,ease:"power1.out"},28/24).to(this.head,{y:79,scaleY:1,duration:5/24,ease:"power1.out"},28/24).to(this.spring.scale,{x:1.03,y:1.09,duration:.25,ease:"power1.in"},1.375).to(this.head,{y:86,scaleY:.96,duration:.25,ease:"power1.in"},1.375).to(this.spring.scale,{x:1.06,y:1.06,duration:5/24,ease:"power1.out"},1.625).to(this.head,{y:89,scaleY:.94,duration:5/24,ease:"power1.out"},1.625).to(this.spring.scale,{x:1.03,y:1.09,duration:8/24,ease:"power1.in"},44/24).to(this.head,{y:85,scaleY:.97,duration:8/24,ease:"power1.in"},44/24).to(this.spring.scale,{x:1,y:1.13,duration:8/24,ease:"power1.out"},52/24).to(this.head,{y:80,scaleY:1,duration:8/24,ease:"power1.out",onStart:function(){},onComplete:function(){e.actionWin()}},52/24)},h.onRemoved=function(){this.chestAnimation.kill()},h.update=function(){if(this.pointerPosition&&this.liverActiveArea.containsPoint(this.pointerPosition)){this.leverInteractionsCount+=1;var e=this.leverInteractionsCount%this.liverActiveAreaPositionsY.length;this.lever.gotoAndStop(e),this.liverActiveArea.position.y=this.liverActiveAreaPositionsY[e],this.leverInteractionsCount>=this.leverInteractionsRequired&&(this.liverActiveArea.off("pointermove",this.onPointerMove,this).off("pointerdown",this.onPointerMove,this),this.playChestAnimation())}},Question78}(a.a)}}]);