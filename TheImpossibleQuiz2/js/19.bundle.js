(this.webpackJsonp=this.webpackJsonp||[]).push([[19],{70:function(t,i,e){"use strict";e.r(i),e.d(i,"default",(function(){return a}));var s=e(52),n=e(0),o=e(57),r=e(8);function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _defineProperty(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var a=function(t){var i,e;e=t,(i=Question11).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var s;s=Question11;function Question11(i){var e;_defineProperty(_assertThisInitialized(e=t.call(this,"./assets/questions/q11/q11-number.png",i)||this),"here",void 0),_defineProperty(_assertThisInitialized(e),"round",void 0),_defineProperty(_assertThisInitialized(e),"back",void 0),_defineProperty(_assertThisInitialized(e),"box0",void 0),_defineProperty(_assertThisInitialized(e),"box1",void 0),_defineProperty(_assertThisInitialized(e),"key",void 0),_defineProperty(_assertThisInitialized(e),"keyPoints",[]),_defineProperty(_assertThisInitialized(e),"lock",void 0),_defineProperty(_assertThisInitialized(e),"keyDrag",!1),_defineProperty(_assertThisInitialized(e),"tapPoint",{x:0,y:0}),_defineProperty(_assertThisInitialized(e),"sin",0),_defineProperty(_assertThisInitialized(e),"textDM",void 0),_defineProperty(_assertThisInitialized(e),"checkHint",void 0),e.label.x=5,e.label.y=4,e.box0=e.addChild(new n.c),e.box1=e.addChild(new n.c),e.box1.visible=!1,e.here=e.box0.addChild(n.n.from("./assets/questions/q11/q11_pad.png")),e.here.anchor.set(.5,.9),e.here.position.set(258,251),e.textDM=e.here.addChild(n.n.from("./assets/questions/q11/q11_m.png")),e.textDM.anchor.set(.5),e.textDM.y=-133,e.round=e.box0.addChild(n.n.from("./assets/questions/q11/q11-button.png")),e.round.anchor.set(.5),e.round.position.set(264,310),e.lock=e.box1.addChild(new r.a("./assets/questions/q11/lock/l*.png",17,0)),e.lock.anchor.set(0),e.lock.position.set(472,81),e.back=e.box1.addChild(n.n.from("./assets/questions/q11/q11-back.png")),e.key=e.box1.addChild(n.n.from("./assets/questions/q11/q11-key.png")),e.key.anchor.set(.5),e.key.position.set(76,127);for(var s=[-21,-12,23,-5,20,12,-21,10],o=0;o<4;o++)e.keyPoints.unshift(new n.g(s.shift(),s.shift()));return void 0===window.isTouchScreen?i.stage.signalClick.once(e.enableControl,_assertThisInitialized(e)):e.enableControl(),e}var a=Question11.prototype;return a.enableControl=function(){var t;window.isTouchScreen?(this.round.on("pointerdown",this.startRun,this),this.back.on("pointerup",this.reset,this),this.textDM.texture=n.q.from("./assets/questions/q11/q11_m.png"),t="./assets/questions/q11/q11-ts.png"):(this.round.on("pointerover",this.startRun,this),this.textDM.texture=n.q.from("./assets/questions/q11/q11_d.png"),this.key.on("pointerdown",this.startDrag,this).on("pointerup",this.startDrag,this).on("pointeroutside",this.startDrag,this).interactive=!0,this.key.buttonMode=!0,t="./assets/questions/q11/q11-back.png"),this.round.interactive=!0,this.round.buttonMode=!0,this.back.on("pointermove",this.testMove,this),this.checkHint||(this.checkHint=new o.a(t))},a.startRun=function(t){this.box1.visible||(this.box1.visible=!0,this.box0.visible=!1,this.back.interactive=!0)},a.startDrag=function(t){if("pointerdown"===t.type){var i=this.key.toLocal(t.data.global);this.tapPoint={x:i.x,y:i.y}}this.keyDrag="pointerdown"===t.type},a.testMove=function(t){var i,e=this,s=this.box1.toLocal(t.data.global);if(this.keyDrag){if(window.isTouchScreen){if(0!=this.checkHint.getPixel(s.x,s.y))return void this.reset()}else for(var n=0;n<this.keyPoints.length;n++)if(i=this.key.toGlobal(this.keyPoints[n]),0!=this.checkHint.getPixel(i.x,i.y))return void this.reset()}else if(0!=this.checkHint.getPixel(s.x,s.y))return void this.reset();if(this.keyDrag){if(this.key.position.set(s.x-this.tapPoint.x,s.y-this.tapPoint.y),this.lock.containsPoint(s)){this.keyDrag=!1,this.key.visible=!1,this.back.interactive=!1,this.sounds.play("key_open"),this.lock.play(1,1,!1,(function(){return e.theEnd()}));this.lock.playQueue([1,2,2,2,2,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],!1,(function(){return e.theEnd()}))}}else window.isTouchScreen&&this.key.containsPoint(s)&&(this.keyDrag=!0)},a.theEnd=function(){var t=this;this.sounds.play("intro_222"),this.checkHint.destroy(),this.lock.playQueue([15,16],!0,(function(){return t.theEnd()})),this.lock.interactive=!0,window.isTouchScreen?this.lock.once("pointerup",(function(){t.actionWin()})):this.lock.once("pointerover",(function(){t.actionWin()}))},a.reset=function(){this.actionFail(),this.box0.visible=!0,this.box1.visible=!1,this.back.interactive=!1,this.key.position.set(76,127),this.keyDrag=!1},a.update=function(t){this.box0.visible&&(this.sin+=.1,this.here.scale.set(1+.1*Math.sin(this.sin)))},Question11}(s.a)}}]);