(this.webpackJsonp=this.webpackJsonp||[]).push([[22],{73:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return p}));var o=i(52),n=i(0),s=i(6),r=i(7),a=i(8);function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p=function(e){var t,i;i=e,(t=Question112).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o;o=Question112;function Question112(t){var i;return _defineProperty(_assertThisInitialized(i=e.call(this,"./assets/questions/q112/q112-number.png",t,"assets/questions/q112/q112-back.png")||this),"feed",void 0),_defineProperty(_assertThisInitialized(i),"drag",void 0),_defineProperty(_assertThisInitialized(i),"catContainer",void 0),_defineProperty(_assertThisInitialized(i),"catTail",void 0),_defineProperty(_assertThisInitialized(i),"cat",void 0),_defineProperty(_assertThisInitialized(i),"catBlink",void 0),_defineProperty(_assertThisInitialized(i),"emptyFeed",void 0),_defineProperty(_assertThisInitialized(i),"opener",void 0),_defineProperty(_assertThisInitialized(i),"openerBottom",void 0),_defineProperty(_assertThisInitialized(i),"openerTop",void 0),_defineProperty(_assertThisInitialized(i),"oldXY",void 0),_defineProperty(_assertThisInitialized(i),"openerCenter",void 0),_defineProperty(_assertThisInitialized(i),"openerCircle",void 0),_defineProperty(_assertThisInitialized(i),"feedPosition",void 0),_defineProperty(_assertThisInitialized(i),"openStarted",void 0),_defineProperty(_assertThisInitialized(i),"feedOpened",void 0),_defineProperty(_assertThisInitialized(i),"spreadingFood",void 0),_defineProperty(_assertThisInitialized(i),"openerProgress",0),_defineProperty(_assertThisInitialized(i),"ww",r.a.stage.width),_defineProperty(_assertThisInitialized(i),"hh",r.a.stage.height),i.label.position.set(7,4),i.catContainer=i.addChild(new n.c),i.catTail=i.catContainer.addChild(n.n.from("./assets/questions/q112/q112-chris-tail.png")),i.catContainer.position.set(90,250),i.catTail.anchor.set(1),i.catTail.scale.set(-1,1),i.catTail.position.set(150,370),i.catTail.angle=-30,i.cat=i.catContainer.addChild(n.n.from("./assets/questions/q112/q112-chris.png")),i.cat.position.set(0),i.catBlink=i.catContainer.addChild(new a.a("./assets/questions/q112/q112-chris-blink/q112-chris-blink-*.png",3,2)),i.catBlink.position.set(118,97),i.addChild(n.n.from("./assets/questions/q112/q112-table.png")).position.set(0,217),i.feed=i.addChild(new a.a("./assets/questions/q112/q112-feed/q112-feed-*.png",28,0)),i.feed.interactive=!0,i.feed.buttonMode=!0,i.feed.position.set(80,255),i.feed.on("pointerdown",i.pointerTap,_assertThisInitialized(i)).on("pointerup",i.pointerTap,_assertThisInitialized(i)),i.feedPosition=new n.i(350,145,170,196),i.opener=i.addChild(new n.c),i.opener.position.set(600,200),i.opener.pivot.set(200,100),i.openerBottom=i.opener.addChild(n.n.from("./assets/questions/q112/q112-opener-2.png")),i.openerBottom.position.set(31,32),i.openerBottom.pivot.set(0,0),i.openerTop=i.opener.addChild(n.n.from("./assets/questions/q112/q112-opener-1.png")),i.openerTop.position.set(41,32),i.openerTop.pivot.set(101,79),i.openerCircle=i.opener.addChild(n.n.from("./assets/questions/q112/q112-opener-circle.png")),i.openerCircle.anchor.set(.5),i.openerCircle.position.set(32,13),i.openerCenter={x:232,y:13},i.emptyFeed=i.addChild(n.n.from("./assets/questions/q112/q112-feed-empty.png")),i.emptyFeed.anchor.set(.5),i.emptyFeed.position.set(201,87),i.emptyFeed.visible=!1,i.openStarted=!1,i.feedOpened=!1,i.spreadingFood=!1,i.interactive=!0,i}var p=Question112.prototype;return p.closeOpener=function(){s.a.to(this.openerTop,{angle:12,duration:.4}),s.a.to(this.openerBottom,{angle:-12,duration:.4}),this.startOpen()},p.pointerTap=function(e){if("pointerdown"===e.type){this.drag=e.currentTarget;var t=this.toLocal(e.data.global);this.drag.lock={dx:t.x-this.drag.x,dy:t.y-this.drag.y},this.drag.on("pointermove",this.pointerMove,this)}else this.drag.off("pointermove",this.pointerMove,this)},p.startOpen=function(){this.openerCircle.interactive=!0,this.openerCircle.hitArea=new n.b(0,0,53),this.openerCircle.on("pointerover",this.openFeed,this).on("pointerout",this.openFeed,this).on("pointerdown",this.openFeed,this).on("pointerup",this.openFeed,this).on("pointerupoutside",this.openFeed,this)},p.openFeed=function(e){"pointerover"!==e.type&&"pointerdown"!==e.type||(this.oldXY={x:e.data.global.x,y:e.data.global.y},this.openerCircle.on("pointermove",this.opening,this)),"pointerout"!==e.type&&"pointerup"!==e.type&&"pointerupoutside"!==e.type||this.openerCircle.off("pointermove",this.opening,this)},p.catAppear=function(){var e=this;s.a.delayedCall(1.7,(function(){e.appp.sounds.play("chris-mrr")})),this.catBlink.stop(0),s.a.to(this.catContainer,{y:20,duration:2,delay:1.5}),s.a.to(this.catTail,{angle:-10,duration:1,delay:2.5,onComplete:function(){e.actionWin(1)}}),this.catBlink.playQueue([2,2,2,2,2,2,2,2,0,1,0],!0,null,5)},p.dist=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},p.opening=function(e){var t=this;if("pointermove"===e.type){var i={x:e.data.global.x,y:e.data.global.y},o=this.dist(this.oldXY,this.openerCenter),r=this.dist(i,this.openerCenter),a=this.dist(this.oldXY,i),p=Math.acos((Math.pow(a,2)-Math.pow(o,2)-Math.pow(r,2))/(2*o*r));this.openerProgress+=p>0?p:0,s.a.to(this.openerCircle,{angle:360*this.openerProgress/3e3,duration:.004});var d=Math.floor(this.openerProgress/50);this.feed.stop(d%6),this.openerProgress>3e3&&(this.feed.position.set(342,148),this.feed.stop(6),s.a.to(this.openerTop,{angle:0,duration:.4,onComplete:function(){t.feed.on("pointerdown",t.pointerTap,t)}}),s.a.to(this.openerBottom,{angle:0,duration:.4}),s.a.to(this.opener,{angle:180,duration:2}),this.feedOpened=!0,this.appp.sounds.play("hit-metal-grate"),this.openerCircle.off("pointerover",this.openFeed,this),this.openerCircle.off("pointerout",this.openFeed,this),this.openerCircle.off("pointermove",this.opening,this),this.openerCircle.interactive=!1,this.feedPosition=new n.i(204,175,170,196)),this.oldXY=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},i)}},p.pointerMove=function(e){var t=this,i=this.toLocal(e.data.global),o=!1;if(this.feedOpened?this.feedPosition.contains(i.x,i.y)?(this.interactiveChildren=!1,this.off("pointermove",this.pointerMove,this),this.spreadingFood||(s.a.to(this.feed,{x:204,y:175,duration:.4}),s.a.to(this.feed,{x:204,y:156,duration:.4}),s.a.delayedCall(1.6,(function(){t.appp.sounds.play("lvl20-112-118")})),s.a.delayedCall(.5,(function(){t.feed.playQueue([6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],!1,(function(){t.appp.overlays.stopBomb(),t.emptyFeed.visible=!0,s.a.to(t.emptyFeed,{angle:360,x:-100,duration:1.5}),t.catAppear()}))}))),this.spreadingFood=!0):o=!0:this.feedPosition.contains(i.x,i.y)?this.openStarted||(this.openStarted=!0,this.feed.off("pointerdown",this.pointerTap,this).off("pointermove",this.pointerMove,this),s.a.to(this.feed,{x:423,y:222,duration:.4,onComplete:function(){t.closeOpener()}})):o=!0,o){if(i.x>this.ww||i.x<0||i.y>this.hh||i.y<0)return void this.drag.off("pointermove",this.pointerMove,this);var n=i.x-this.drag.lock.dx;n>this.ww?n=this.ww:n<0&&(n=0);var r=i.y-this.drag.lock.dy;r>this.hh?r=this.hh:r<0&&(r=0),this.drag.position.set(n,r)}},Question112}(o.a)}}]);