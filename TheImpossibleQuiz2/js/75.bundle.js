(this.webpackJsonp=this.webpackJsonp||[]).push([[75],{124:function(i,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return h}));var s=e(52),n=e(0),o=e(6),a=e(8);function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _defineProperty(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var h=function(i){var t,e;e=i,(t=Question52).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var s;s=Question52;function Question52(t){var e;return _defineProperty(_assertThisInitialized(e=i.call(this,"./assets/questions/q52/q52-number@2x.png",t)||this),"lamp",void 0),_defineProperty(_assertThisInitialized(e),"genie",void 0),_defineProperty(_assertThisInitialized(e),"shadow",void 0),_defineProperty(_assertThisInitialized(e),"shine",void 0),_defineProperty(_assertThisInitialized(e),"dark",void 0),_defineProperty(_assertThisInitialized(e),"oldXY",void 0),_defineProperty(_assertThisInitialized(e),"enjoy",0),_defineProperty(_assertThisInitialized(e),"PI",void 0),_defineProperty(_assertThisInitialized(e),"end",!0),e.lamp=e.addChild(new a.a("./assets/questions/q52/lamp/q52_*@2x.png",21,0)),e.lamp.position.set(295,178),e.lamp.hitArea=new n.i(95,75,135,67),e.genie=e.addChild(n.n.from("./assets/questions/q52/q52-genie-2@2x.png")),e.genie.anchor.set(.5),e.genie.position.set(150,154),e.genie.y0=154,e.shadow=e.addChild(n.n.from("./assets/questions/q52/q52-shadow@2x.png")),e.shadow.anchor.set(.5),e.shadow.position.set(155,320),e.shine=e.addChild(new a.a("./assets/questions/q52/q52-shine/q52shine-*@2x.png",4,-1)),e.shine.position.set(457,283),e.dark=e.addChild(n.n.from("./assets/questions/q52/lamp/q52_lamp@2x.png")),e.dark.anchor.set(.5),e.dark.position.set(452,287),e.init(),e}var h=Question52.prototype;return h.show=function(){1===this.alpha&&(this.alpha=0,o.a.to(this,{alpha:1}))},h.pointerListener=function(i){"pointerdown"===i.type?(this.oldXY={x:i.data.global.x,y:i.data.global.y},this.lamp.on("pointermove",this.pointerMove,this)):"pointerup"===i.type&&this.lamp.off("pointermove",this.pointerMove,this)},h.pointerMove=function(i){var t=i.data.global;if(this.dark.containsPoint(t)){var e=this.oldXY.x-t.x,s=this.oldXY.y-t.y,n=Math.sqrt(e*e+s*s);this.enjoy+=n,this.dark.alpha=1-this.enjoy/12e3,this.oldXY={x:this.lamp.x,y:this.lamp.y},this.enjoy>12e3&&(this.dark.visible=!1,this.sounds.play("lvl52-laser"),this.lamp.off("pointerdown",this.pointerListener,this),this.lamp.off("pointerup",this.pointerListener,this),this.lamp.off("pointermove",this.pointerMove,this),this.lamp.interactive=!1,this.lamp.play(0,1,!1,this.lampComplete.bind(this)))}},h.init=function(){this.end=!1,this.genie.visible=!1,this.shadow.visible=!1,this.lamp.stop(0),this.dark.visible=!0,this.dark.alpha=1,this.shine.stop(-1),window.isTouchScreen?this.lamp.on("pointerdown",this.pointerListener,this).on("pointerup",this.pointerListener,this).interactive=!0:(this.oldXY={x:this.lamp.x,y:this.lamp.y},this.lamp.on("pointermove",this.pointerMove,this).interactive=!0),this.lamp.buttonMode=!0,this.enjoy=0},h.lampComplete=function(){var i=this;this.lamp.stop(0),this.shadow.visible=!0,this.genie.position.set(150,154),this.PI=0,this.genie.visible=!0,this.shine.play(),setTimeout((function(){i.actionWin()}),1500)},h.update=function(i){this.end||this.genie.visible&&(this.PI+=.03,this.genie.y=this.genie.y0+20*Math.sin(this.PI),this.genie.rotation=.2*Math.sin(this.PI),this.shadow.scale.set(1.1+.2*Math.sin(this.PI)))},Question52}(s.a)}}]);