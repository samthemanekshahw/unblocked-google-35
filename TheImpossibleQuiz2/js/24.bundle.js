(this.webpackJsonp=this.webpackJsonp||[]).push([[24],{75:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return n}));var s=i(52),o=i(0),r=i(6),h=i(7);function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var n=function(t){var e,i;i=t,(e=Question114).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s;s=Question114;function Question114(e){var i;_defineProperty(_assertThisInitialized(i=t.call(this,"./assets/questions/q114/q114-number.png",e,"assets/questions/q114/q114-back.png")||this),"progress",0),_defineProperty(_assertThisInitialized(i),"toothbrush",void 0),_defineProperty(_assertThisInitialized(i),"drag",void 0),_defineProperty(_assertThisInitialized(i),"tint",void 0),_defineProperty(_assertThisInitialized(i),"teeth",void 0),_defineProperty(_assertThisInitialized(i),"shine",void 0),_defineProperty(_assertThisInitialized(i),"currentDirection","left"),_defineProperty(_assertThisInitialized(i),"ww",h.a.stage.width),_defineProperty(_assertThisInitialized(i),"hh",h.a.stage.height),_defineProperty(_assertThisInitialized(i),"colorToHex",(function(t){return"0x"+t.r.toString(16).toUpperCase()+t.g.toString(16).toUpperCase()+t.b.toString(16).toUpperCase()})),_defineProperty(_assertThisInitialized(i),"keyPress",function(t){"ArrowLeft"===t.key&&("left"!==this.currentDirection||Math.floor(this.progress/600)%2||(r.a.to(this.toothbrush,{x:this.toothbrush.position.x-120,duration:.1}),this.progress+=120,this.progress%600||(this.currentDirection="right"),this.cleaningProcess())),"ArrowRight"===t.key&&"right"===this.currentDirection&&Math.floor(this.progress/600)%2&&(r.a.to(this.toothbrush,{x:this.toothbrush.position.x+120,duration:.1}),this.progress+=120,this.progress%600||(this.currentDirection="left"),this.cleaningProcess())}.bind(_assertThisInitialized(i))),i.label.position.set(5),i.teeth=[];for(var s,n=[160,158,207,177,259,177,320,179,373,175,420,162,157,249,201,250,250,251,311,253,362,252,405,252],a=1;a<=12;a++)(s=i.addChild(o.n.from("./assets/questions/q114/q114-tooth-"+a+".png"))).anchor.set(.5),s.position.set(n.shift(),n.shift()),s.place=a,s.tint=10913611,i.teeth.push(s);return i.toothbrush=i.addChild(o.n.from("./assets/questions/q114/q114-toothbrush.png")),i.toothbrush.position.set(460,120),i.toothbrush.on("touchstart",i.touchEvent,_assertThisInitialized(i)).on("touchend",i.touchEvent,_assertThisInitialized(i)).on("touchmove",i.touchEvent,_assertThisInitialized(i)).interactive=!0,window.addEventListener("keydown",i.keyPress),i.shine=i.addChild(o.n.from("./assets/questions/q114/q114-shine.png")),i.shine.scale.set(.5),i.shine.anchor.set(.5),i.shine.position.set(160,240),i.shine.alpha=0,i.interactive=!0,i}var n=Question114.prototype;return n.show=function(){1===this.alpha&&(this.alpha=0,r.a.to(this,{alpha:1}))},n.hexToColors=function(t){return{r:parseInt(t.toString(16).slice(2,4),16),g:parseInt(t.toString(16).slice(4,6),16),b:parseInt(t.toString(16).slice(6),16)}},n.touchEvent=function(t){if("touchstart"===t.type){this.drag=t.currentTarget;var e=this.toLocal(t.data.global);this.drag.lock={dx:e.x-this.drag.x,dy:e.y-this.drag.y},this.toothbrush.on("touchmove",this.cleanTeeth,this)}"touchend"===t.type&&this.toothbrush.off("touchmove",this.cleanTeeth,this)},n.cleanTeeth=function(t){var e=this.toLocal(t.data.global);this.drag.position.x=e.x-this.drag.lock.dx,this.progress+=this.drag.lock.dx/6,this.cleaningProcess()},n.cleaningProcess=function(){var t=this;switch(!0){case this.progress<2400:this.tint=this.hexToColors(this.teeth[0].tint),this.teeth.forEach((function(e){var i={r:Math.floor(166+t.progress/2400*89),g:Math.floor(135+t.progress/2400*120),b:Math.floor(75+t.progress/2400*180)};e.tint=t.colorToHex(i)}));break;case this.progress<2430:break;case this.progress<2970:r.a.to(this.teeth[8],{angle:-90,x:220,y:500,duration:.3});break;case this.progress<3510:r.a.to(this.teeth[3],{angle:-180,x:400,y:-70,duration:.3});break;case this.progress<4050:r.a.to(this.teeth[9],{angle:-90,x:280,y:500,duration:.3});break;case this.progress<4590:r.a.to(this.teeth[1],{angle:90,x:220,y:-70,duration:.3});break;case this.progress<5130:r.a.to(this.teeth[2],{angle:90,x:-50,y:-70,duration:.3});break;case this.progress<5400:r.a.to(this.teeth[6],{angle:-90,x:0,y:500,duration:.3});break;default:this.appp.overlays.stopBomb(),window.removeEventListener("keydown",this.keyPress),this.toothbrush.off("touchmove",this.cleanTeeth,this),this.toothbrush.off("touchdown",this.touchEvent,this),this.appp.sounds.play("lvl28-78-114-eructation"),r.a.to(this.shine,{alpha:1,duration:.2}),r.a.to(this.shine,{alpha:0,duration:.2,delay:.3}),this.actionWin(1)}},n.pointerTap=function(t){if("pointerdown"===t.type){this.drag=t.currentTarget;var e=this.toLocal(t.data.global);this.drag.lock={dx:e.x-this.drag.x,dy:e.y-this.drag.y},this.on("pointermove",this.pointerMove,this)}else this.off("pointermove",this.pointerMove,this)},n.pointerMove=function(t){var e=this.toLocal(t.data.global);if(e.x>this.ww||e.x<0||e.y>this.hh||e.y<0)this.off("pointermove",this.pointerMove,this);else{var i=e.x-this.drag.lock.dx;i>this.ww?i=this.ww:i<0&&(i=0);var s=e.y-this.drag.lock.dy;s>this.hh?s=this.hh:s<0&&(s=0),this.drag.position.set(i,s)}},Question114}(s.a)}}]);