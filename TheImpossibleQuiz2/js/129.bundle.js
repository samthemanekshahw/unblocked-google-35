(this.webpackJsonp=this.webpackJsonp||[]).push([[129],{175:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return u}));var i=o(6),a=o(0),r=o(7),s=o(24),n=o(34),d=o(8),p=o(21);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u=function(e){var t,o;o=e,(t=GameoverScreen).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var n;n=GameoverScreen;function GameoverScreen(t){var o;_defineProperty(_assertThisInitialized(o=e.call(this,t)||this),"round",void 0),_defineProperty(_assertThisInitialized(o),"game",void 0),_defineProperty(_assertThisInitialized(o),"over",void 0),_defineProperty(_assertThisInitialized(o),"tryagain",void 0),_defineProperty(_assertThisInitialized(o),"giveup",void 0),_defineProperty(_assertThisInitialized(o),"smoke",void 0),_defineProperty(_assertThisInitialized(o),"digits",void 0),_defineProperty(_assertThisInitialized(o),"gameoverIn",void 0),_defineProperty(_assertThisInitialized(o),"gameoverOut",void 0),_defineProperty(_assertThisInitialized(o),"gameoverGiveUp",void 0),_defineProperty(_assertThisInitialized(o),"x0",146),_defineProperty(_assertThisInitialized(o),"y0",373),o.round=o.addChild(a.n.from("./assets/screens/gameover/round.png")),o.round.anchor.set(.5),o.game=o.addChild(a.n.from("./assets/screens/gameover/game.png")),o.game.anchor.set(.5),o.over=o.addChild(a.n.from("./assets/screens/gameover/over.png")),o.over.anchor.set(.5),o.tryagain=o.addChild(new d.a("./assets/screens/gameover/bt_again/f*.png",2,0)),o.tryagain.position.set(142,347),o.tryagain.ID=0,o.giveup=o.addChild(new d.a("./assets/screens/gameover/bt_giveup/f*.png",2,0)),o.giveup.position.set(397,352),o.giveup.ID=1,o.initButton(o.giveup),o.initButton(o.tryagain),o.smoke=o.addChild(a.n.from("./assets/screens/gameover/smoke.png")),o.smoke.anchor.set(.5),o.smoke.position.set(o.x0,o.y0),o.smoke.visible=!1,o.digits=o.addChild(new d.a("./assets/shared/lives/digits5/f*.png",5,-1)),o.digits.position.set(o.x0,o.y0);for(var n=.5*r.a.stage.width,u=.5*r.a.stage.height,l=[],h=0;h<r.a.controller.lives;h++)l.push(h);return o.gameoverIn=i.b.timeline({paused:!0}).set(o.round,{alpha:1}).add(o.prepareGameoverAnimation()).addLabel("a0").to(o.round,{x:n,y:u,duration:1,ease:"power2.out"},"a0").to(o.round.scale,{x:1,y:1,duration:1,ease:"power2.out"},"a0").addLabel("a1").to(o.game,{x:249,y:84,rotation:0,alpha:1,duration:1,delay:.2,ease:"power2.out"},"a0").to(o.game.scale,{x:1,y:1,duration:1,delay:.2,ease:"power2.out"},"a0").to(o.over,{x:263,y:236,rotation:0,alpha:1,duration:1,delay:.4,ease:"power2.out"},"a0").to(o.over.scale,{x:1,y:1,duration:1,delay:.4,ease:"power2.out"},"a0").to(o.tryagain.scale,{x:1,y:1,duration:.7,ease:"elastic.out"},"a1").to(o.giveup.scale,{x:1,y:1,duration:.7,delay:.2,ease:"elastic.out"},"a1"),o.gameoverOut=i.b.timeline({paused:!0}).addLabel("a0").to(o.round,{x:o.x0,y:o.y0,duration:1,ease:"power2.out"},"a0").to(o.round.scale,{x:0,y:0,duration:1,ease:"power2.out",onComplete:function(){o.smoke.alpha=.3,o.smoke.scale.set(.3),o.smoke.visible=!0,o.digits.scale.set(.3),o.digits.playQueue(l,!1,null,10)}},"a0").addLabel("a1").to(o.smoke,{alpha:.9,duration:.2}).to(o.game,{x:o.x0,y:o.y0,rotation:-.7,alpha:1,duration:1,delay:.4,ease:"power2.out"},"a0").to(o.game.scale,{x:0,y:0,duration:1,delay:.4,ease:"power2.out"},"a0").to(o.over,{x:o.x0,y:o.y0,rotation:-.7,alpha:1,duration:.8,delay:.2,ease:"power2.out"},"a0").to(o.over.scale,{x:0,y:0,duration:.8,delay:.2,ease:"power2.out"},"a0").to(o.tryagain.scale,{x:0,y:0,duration:.3},"a0").to(o.giveup.scale,{x:0,y:0,duration:.3},"a0").to(o.smoke,{alpha:0,duration:1.3}).to(o.smoke.scale,{x:1.1,y:1.1,duration:1.3,ease:"power2.out"},"a1").to(o.digits.scale,{x:1,y:1,duration:1.3,ease:"power2.out",onComplete:function(){o.app.get(s.a).beginQuiz(),o.digits.stop(-1),o.smoke.visible=!1}},"a1"),o.gameoverGiveUp=i.b.timeline({paused:!0}).addLabel("label").call((function(){o.round.pivot.set(200),o.round.x+=200,o.round.y+=200,o.game.position=o.round.toLocal(o.game.position,o.parent),o.over.position=o.round.toLocal(o.over.position,o.parent),o.round.addChild(o.game,o.over)})).to(o.round,{rotation:3*Math.PI,x:300,y:150,duration:.5,ease:"power1.in"}).to(o.round.scale,{x:.03,y:.03,duration:.5,ease:"power1.in"},"label").to(o.tryagain.scale,{x:0,y:0,duration:.5},"label").to(o.giveup.scale,{x:0,y:0,duration:.5},"label").call((function(){o.round.pivot.set(0),o.app.get(p.a).show("title",{showIntro:!1}),o.round.removeChild(o.game,o.over)})),o}var u=GameoverScreen.prototype;return u.initButton=function(e){e.on("pointerdown",this.pointerListener,this).on("pointerup",this.pointerListener,this).on("pointerover",this.pointerListener,this).on("pointerout",this.pointerListener,this).on("pointerupoutside",this.pointerListener,this).interactive=!0,e.buttonMode=!0},u.pointerListener=function(e){var t=e.currentTarget;"pointerover"===e.type?t.stop(1):"pointerout"===e.type||"pointerupoutside"===e.type||"pointerout"===e.type?t.stop(0):"pointerdown"===e.type?t.stop(1):"pointerup"===e.type&&(0===t.ID?this.gameoverOut.play(.01):1===t.ID&&this.gameoverGiveUp.play(0),t.stop(0))},u.show=function(){this.gameoverIn.play(.01),this.visible=!0},u.prepareGameoverAnimation=function(){this.digits.stop(-1);var e=i.b.timeline().set(this.round,{x:this.x0,y:this.y0,alpha:1,rotation:0}).set(this.round.scale,{x:.05,y:.05}).set(this.game,{x:this.x0,y:this.y0,rotation:.7,alpha:.3}).set(this.game.scale,{x:.2,y:.2}).set(this.over,{x:this.x0,y:this.y0,rotation:.7,alpha:.1}).set(this.over.scale,{x:.05,y:.05}).set(this.tryagain.scale,{x:0,y:0}).set(this.giveup.scale,{x:0,y:0});return this.addChild(this.game,this.over),e},GameoverScreen}(n.a)}}]);