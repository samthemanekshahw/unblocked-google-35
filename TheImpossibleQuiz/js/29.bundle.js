(this.webpackJsonp=this.webpackJsonp||[]).push([[29],{168:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return c}));var n=i(46),r=i(1),s=i(10),a=i(50);function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(t){var e,i;i=t,(e=Land).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n;n=Land;function Land(){var e;_defineProperty(_assertThisInitialized(e=t.call(this)||this),"bit0",void 0),_defineProperty(_assertThisInitialized(e),"bit2",void 0),_defineProperty(_assertThisInitialized(e),"lastImg",void 0),_defineProperty(_assertThisInitialized(e),"rec",void 0);for(var i=0;i<4;i++)e.addChild(r.m.from("./assets/questions/q106/map/m"+i+".png")).y=529*(3-i);return e}return Land.prototype.clear=function(){for(;this.children.length;)this.children.shift().destroy()},Land}(r.c);function CheckHint_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,CheckHint_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)})(t)}function _construct(t,e,i){return(_construct=CheckHint_isNativeReflectConstruct()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&_setPrototypeOf(r,i.prototype),r}).apply(null,arguments)}function CheckHint_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CheckHint_getPrototypeOf(t){return(CheckHint_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function CheckHint_defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h=function(t){var e,i;i=t,(e=CheckHint).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n;n=CheckHint;function CheckHint(e,i){var n;CheckHint_defineProperty(CheckHint_assertThisInitialized(n=t.call(this)||this),"canvases",[]),CheckHint_defineProperty(CheckHint_assertThisInitialized(n),"bitWidth",550),CheckHint_defineProperty(CheckHint_assertThisInitialized(n),"bitHeight",529);for(var r=e.indexOf("*"),s=e.slice(0,r),a=e.slice(r+1),o=0;o<i;o++)n.createHit(s+(3-o)+a);return n}var r=CheckHint.prototype;return r.createHit=function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),n=new Image;n.onload=function(t,r){e.width=n.width,e.height=n.height,i.drawImage(n,0,0,n.width,n.height)}.bind(this),this.canvases.push(i),n.src=t},r.getPixel=function(t,e){var i=Math.floor(e/this.bitHeight);if(i>=this.canvases.length||i<0)return 0;var n=this.canvases[i],r=e%this.bitHeight;return n.getImageData(t,r,1,1).data[3]},r.clear=function(){for(;this.canvases.length;)this.canvases.shift().clearRect(0,0,this.bitWidth,this.bitHeight)},CheckHint}(_wrapNativeSuper(Object));function q106_screen_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q106_screen_defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=function(t){var e,i;i=t,(e=Question106).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n;n=Question106;function Question106(e){var i;return q106_screen_defineProperty(q106_screen_assertThisInitialized(i=t.call(this,null,e)||this),"land",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"checkHint",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"question",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"road",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"btStart",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"btExit",void 0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"phase",0),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"finish",!1),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"dy",.3),q106_screen_defineProperty(q106_screen_assertThisInitialized(i),"startLevel",(function(){this.finish||(this.land.visible=!1,this.land.alpha=0,this.land.interactive=!1,this.land.y=-1716,this.road.alpha=1,this.road.scale.set(1),this.road.visible=!1,this.btStart.texture=r.p.from("./assets/questions/q30/br.png"),this.btStart.interactive=!0,this.btStart.buttonMode=!0,this.btStart.alpha=1,this.question.visible=!0,this.phase=0,this.dy=.3,void 0===window.isTouchScreen?this.appp.stage.signalClick.once(this.enableControl,this):this.enableControl())})),i.land=i.addChild(new o),i.land.on("pointermove",i.testMove,q106_screen_assertThisInitialized(i)),i.land.visible=!1,i.road=i.addChild(r.m.from("./assets/questions/q106/q106_road.png")),i.road.anchor.set(.5),i.road.position.set(360,263),i.road.visible=!1,i.question=i.addChild(r.m.from("./assets/questions/q106/q106_q.png")),i.question.position.set(68,120),i.question.visible=!1,i.btStart=i.addChild(new a.a("./assets/questions/q30/br.png",{x0:133,y0:292})),i.btStart.alpha=0,i.btExit=i.land.addChild(new a.a("./assets/questions/q106/arrow0.png",{x0:110,y0:269})),i.btExit.alpha=0,e.overlays.showStartNew(106).once(i.startLevel,q106_screen_assertThisInitialized(i)),i}var c=Question106.prototype;return c.enableControl=function(){window.isTouchScreen?(this.checkHint||(this.checkHint=new h("./assets/questions/q106/hit_m/h*.png",4)),this.btStart.once("pointerdown",this.startListener,this)):(this.checkHint||(this.checkHint=new h("./assets/questions/q106/hit_d/h*.png",4)),this.btStart.once("pointerover",this.startListener,this))},c.startListener=function(){this.land.visible=!0,this.road.visible=!0,s.b.to(this.land,{duration:.3,alpha:1}),s.b.to(this.btStart,{duration:.3,alpha:0}),s.b.to(this.road,{delay:1.5,duration:.5,alpha:0,ease:"power2.in",onUpdate:function(){this._targets[0].scale.set(this._targets[0].alpha)},onComplete:function(){this.phase=1}.bind(this)}),this.btStart.interactive=!1,this.question.visible=!1,this.land.interactive=!0,this.land.interactive=!0,this.btStart.texture=r.p.from("./assets/questions/q30/bg.png"),this.appp.stage.signalStagePointer.once(this.startLevel,this)},c.exitListener=function(t){"pointerover"===t.type?this.btExit.texture=r.p.from("./assets/questions/q106/arrow1.png"):"pointerout"===t.type?this.btExit.texture=r.p.from("./assets/questions/q106/arrow0.png"):"pointerup"===t.type&&(this.land.clear(),this.checkHint.clear(),this.actionWin())},c.testMove=function(t){var e=this.land.toLocal(t.data.global);0===this.checkHint.getPixel(e.x,e.y)&&(this.actionFail(),this.startLevel())},c.update=function(t){var e=this;0!==this.phase&&(1===this.phase&&(this.dy<2&&(this.dy+=.002),this.land.y+=this.dy),2===this.phase&&(this.dy-=.004,this.land.y+=this.dy),1===this.phase&&this.land.y>-400&&(this.phase=2),this.land.y>0&&(this.land.y=0,this.phase=0,this.btStart.interactive=!1,this.appp.stage.signalStagePointer.detachAll(),s.b.to(this.btExit,{duration:.5,alpha:1,onComplete:function(){e.btExit.on("pointerover",e.exitListener,e).on("pointerout",e.exitListener,e).on("pointerup",e.exitListener,e).interactive=!0,e.btExit.buttonMode=!0}}),this.land&&this.land.off("pointermove",this.testMove,this),this.land.interactive=!1))},Question106}(n.a)}}]);