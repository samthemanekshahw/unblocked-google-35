(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{47:function(s,i,t){"use strict";t.d(i,"a",(function(){return r}));var e=t(1),o=t(27),n=t(29);function _assertThisInitialized(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _defineProperty(s,i,t){return i in s?Object.defineProperty(s,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[i]=t,s}var r=function(s){var i,t;t=s,(i=Bomb).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var r;r=Bomb;function Bomb(i,t,r,a){var b;return void 0===a&&(a=10),_defineProperty(_assertThisInitialized(b=s.call(this)||this),"boom",void 0),_defineProperty(_assertThisInitialized(b),"bombBox",void 0),_defineProperty(_assertThisInitialized(b),"bomb",void 0),_defineProperty(_assertThisInitialized(b),"callBack",void 0),_defineProperty(_assertThisInitialized(b),"fuse",void 0),_defineProperty(_assertThisInitialized(b),"numbers",void 0),_defineProperty(_assertThisInitialized(b),"pi",0),_defineProperty(_assertThisInitialized(b),"size",void 0),_defineProperty(_assertThisInitialized(b),"sound",void 0),_defineProperty(_assertThisInitialized(b),"counter",void 0),_defineProperty(_assertThisInitialized(b),"works",!1),b.counter=a,b.size=t||.6,b.callBack=i,b.boom=b.addChild(new o.a("assets/screens/bomb/boom/b*@2x.png",6,-1)),b.bombBox=b.addChild(new e.c),b.bombBox.position.set(505,45),b.bomb=b.bombBox.addChild(e.m.from("assets/screens/help2/bomb@2x.png")),b.bomb.anchor.set(.5),b.fuse=b.bombBox.addChild(new o.a("assets/screens/help2/bomb-fire-0*@2x.png",[1,2,3])),b.fuse.position.set(23,-60),b.fuse.play(0,1,!0),b.numbers=b.bombBox.addChild(new o.a("assets/screens/bomb/numbers/b*@2x.png",10)),b.numbers.position.set(-15),r&&(b.sound=r,b.bombStart()),n.a.signalOnFocus.add(b.onFocus,_assertThisInitialized(b)),b}var a=Bomb.prototype;return a.bombStart=function(s){s&&(this.sound=s),this.bomb.visible=!0,this.numbers.play(this.numbers.textures.length-this.counter,1,!1,this.bigBooom.bind(this),100),this.fuse.play(0,1,!0),this.boom.stop(-1),this.works=!0,this.startSound()},a.bigBooom=function(){this.fuse.stop(-1),this.numbers.stop(-1),this.bomb.visible=!1,this.boom.play(0,1,!1,this.callBack),setTimeout(this.bombStart.bind(this),2e3),this.works=!1,this.stopSound()},a.clearBomb=function(){this.works=!1,this.stopSound(),this.numbers.stop(),this.boom.clear(),this.fuse.clear(),this.numbers.clear(),this.visible=!1},a.stopBomb=function(){this.works=!1,this.fuse.stop(-1),this.sound&&this.stopSound(),this.numbers.stop()},a.onFocus=function(){this.works&&this.visible&&this.startSound()},a.startSound=function(){this.sound.play("clock-tick")},a.stopSound=function(){this.sound.stop("clock-tick")},a.update=function(s){this.works&&(this.pi+=.07,this.bombBox.scale.set(this.size+.05*Math.sin(this.pi)))},Bomb}(e.c)}}]);